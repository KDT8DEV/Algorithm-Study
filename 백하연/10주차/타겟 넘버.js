/* ë¬¸ì œ ì„¤ëª…
 * nê°œì˜ ìŒì´ ì•„ë‹Œ ì •ìˆ˜ë“¤ì´ ìˆìŠµë‹ˆë‹¤. ì´ ì •ìˆ˜ë“¤ì„ ìˆœì„œë¥¼ ë°”ê¾¸ì§€ ì•Šê³  ì ì ˆíˆ ë”í•˜ê±°ë‚˜ ë¹¼ì„œ íƒ€ê²Ÿ ë„˜ë²„ë¥¼ ë§Œë“¤ë ¤ê³  í•©ë‹ˆë‹¤.
 *  ì˜ˆë¥¼ ë“¤ì–´ [1, 1, 1, 1, 1]ë¡œ ìˆ«ì 3ì„ ë§Œë“¤ë ¤ë©´ ë‹¤ìŒ ë‹¤ì„¯ ë°©ë²•ì„ ì“¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
 * ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ìˆ«ìê°€ ë‹´ê¸´ ë°°ì—´ numbers, íƒ€ê²Ÿ ë„˜ë²„ targetì´ ë§¤ê°œë³€ìˆ˜ë¡œ ì£¼ì–´ì§ˆ ë•Œ ìˆ«ìë¥¼ ì ì ˆíˆ ë”í•˜ê³  ë¹¼ì„œ íƒ€ê²Ÿ ë„˜ë²„ë¥¼ ë§Œë“œëŠ” ë°©ë²•ì˜ ìˆ˜ë¥¼ return
 */

// ëª¨ë“  ê²½ìš°ì˜ ìˆ˜ë¥¼ íƒìƒ‰
function solution(numbers, target) {
  return numbers
    .reduce(
      (acc, cur) => {
        const next = []
        acc.forEach((num) => {
          next.push(num + cur)
          next.push(num - cur)
        })

        console.log('next', next)

        return next
      },
      [0] // ì´ˆê¸°ê°’
    )
    .filter((num) => num === target).length
}
solution([1, 1, 1, 1, 1], 3) // 5
/*
Step 0: acc = [0]
Step 1: cur = 1 â†’ [0+1, 0-1] = [1, -1]
Step 2: cur = 1 â†’ [1+1, 1-1, -1+1, -1-1] = [2, 0, 0, -2]
Step 3: cur = 1 â†’ [2+1, 2-1, 0+1, 0-1, 0+1, 0-1, -2+1, -2-1] = [3, 1, 1, -1, 1, -1, -1, -3]
Step 4: cur = 1 â†’ [3+1, 3-1, 1+1, 1-1, 1+1, 1-1, -1+1, -1-1, 1+1, 1-1, -1+1, -1-1, -1+1, -1-1, -3+1, -3-1] = [4, 2, 2, 0, 2, 0, 0, -2, 2, 0, 0, -2, 0, -2, -2, -4]
Step 5: cur = 1 â†’ [..., 3, 3, 3, 3, 3, ...]
= [
  5,  3,  3,  1,  3,  1,  1, -1,  3,
  1,  1, -1,  1, -1, -1, -3,  3,  1,
  1, -1,  1, -1, -1, -3,  1, -1, -1,
  -3, -1, -3, -3, -5
]
*/

solution([4, 1, 2, 1], 4) // 2
/*
Step 0: acc = [0]
Step 1: cur = 4 â†’ [0+4, 0-4] = [4, -4]
Step 2: cur = 1 â†’ [4+1, 4-1, -4+1, -4-1] = [5, 3, -3, -5]
Step 3: cur = 2 â†’ [5+2, 5-2, 3+2, 3-2, -3+2, -3-2, -5+2, -5-2] = [7, 3, 5, 1, -1, -5, 3, -7]
Step 4: cur = 1 â†’ [7+1, 7-1, 3+1, 3-1, 5+1, 5-1, 1+1, 1-1, -1+1, -1-1, -5+1, -5-1, 3+1, 3-1, -7+1, -7-1] = [7, 6, 4, 2, 6, 4, 2, 0, 0, -2, -4, -6, 4, 2, -6, -8]
*/

// ğŸ’¡ DFS ì¬ê·€ í’€ì´
function dfs_solution(numbers, target) {
  function dfs(index, sum) {
    if (index === numbers.length) {
      return sum === target ? 1 : 0
    }
    return dfs(index + 1, sum + numbers[index]) + dfs(index + 1, sum - numbers[index])
  }

  return dfs(0, 0) // ì¸ë±ìŠ¤ 0, ì´ˆê¸° í•© 0ì—ì„œ ì‹œì‘
}
/*
solve(0, 0)
â”œâ”€ solve(1, 0+1=1)
â”‚  â”œâ”€ solve(2, 1+1=2)
â”‚  â”‚  â”œâ”€ solve(3, 2+1=3)
â”‚  â”‚  â”‚  â”œâ”€ solve(4, 3+1=4)
â”‚  â”‚  â”‚  â”‚  â””â”€ solve(5, 4+1=5) â†’ index==5, sum==5 â‰  3 â†’ 0 ë°˜í™˜
â”‚  â”‚  â”‚  â””â”€ solve(4, 3-1=2)
â”‚  â”‚  â”‚     â””â”€ solve(5, 2+1=3) â†’ index==5, sum==3 === 3 â†’ 1 ë°˜í™˜ âœ“
â”‚  â”‚  â””â”€ ...
â”‚  â””â”€ ...
â””â”€ solve(1, 0-1=-1)
   â””â”€ ...
*/
